<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from mesquiteproject.wikispaces.com/Scripts+%26+Macros?f=print by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 May 2018 13:27:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="search" href="http://mesquiteproject.wikispaces.com/space/opensearch" type="application/opensearchdescription+xml" title="Wikispaces Search (Mesquite Wiki)" />
<link rel="alternate" type="application/x-wiki" title="Edit This Page" href="http://mesquiteproject.wikispaces.com/page/edit/Scripts+%26+Macros" />
<link rel="alternate" title="Mesquite - All Changes" href="http://mesquiteproject.wikispaces.com/wiki/xmla?v=rss_2_0" type="application/rss+xml" />
<link rel="alternate" title="mesquiteproject : Scripts &amp; Macros - Discussion" href="http://mesquiteproject.wikispaces.com/message/xml/Scripts+%26+Macros?v=rss_2_0" type="application/rss+xml" />
<link rel="alternate" title="mesquiteproject : Scripts &amp; Macros - Edits" href="http://mesquiteproject.wikispaces.com/page/xml/Scripts+%26+Macros?v=rss_2_0" type="application/rss+xml" />
<link rel="microsummary" href="http://mesquiteproject.wikispaces.com/page/microsummary/Scripts+%26+Macros/edits"/>
<link rel="microsummary" href="http://mesquiteproject.wikispaces.com/page/microsummary/Scripts+%26+Macros/messages"/>
<meta name="robots" content="noindex" />
<script type="text/javascript">
  
if (typeof ws === 'undefined') ws = {};
ws.context = {
  instance: {
    id: '1',
    url: 'wikispaces.com',
    isMain: true,
    supportsGoogleDocs: false,
    isTesClassroom: false,
  },
  user: {
    id: '',
    username: '',
    status: '',
    locale: 'en',
    imageUrlPrefix: 'http://www.wikispaces.com/i/user_none_',
    isTeacher: false,
    canAdministerWiki: false,
  },
  wiki: {
    id: '21322146',
    name: 'mesquiteproject',
    text: 'Mesquite',
    module: 'E',
    isClassroom: false,
    isTesClassroom: false
    ,defaultSpaceId: 21506332
    ,isWwwWiki: false
  },
  project: {
    id: '21772858',
    name: ''
  },
  space: {
    id: '21506332',
    name: 'mesquiteproject',
    isDefaultSpace: true,
    isDefaultTemplate: false
  },

  environment_name: 'prod',

  path: {
    object: 'page',
    method: 'view',
    page: 'Scripts & Macros',
    id: ''
  },

  settings: {
    main_domain: 'wikispaces.com',
    session_url: 'https://session.wikispaces.com/1/',
    asset_url_prefix: 'http://www.wikispaces.com',
    beta_features: false,
    isMobileSite: false,
    isUploadCapable: true,
    can_discuss: false,
    has_gdocs: false,
    isDialog: false,
    pwin: ''
  },
  clockSkewMillis: 1525181220195 - ((window.performance && window.performance.timing.responseStart > 0) ? window.performance.timing.responseStart : (new Date()).getTime())
}


// legacy javascript API variables, use the above instead
var wikispaces_isUserLoggedIn = !!ws.context.user.id;
var wikispaces_isMain = ws.context.instance.isMain;
var wikispaces_username = ws.context.user.username;
var wikispaces_spaceName = ws.context.space.name;
var wikispaces_projectName = ws.context.project.name;
var wikispaces_wikiName = ws.context.wiki.name;
var wikispaces_wikiText = ws.context.wiki.text;
var wikispaces_isDefaultSpace = ws.context.space.isDefaultSpace;
var wikispaces_method = ws.context.path.method;
var wikispaces_object = ws.context.path.object;
var wikispaces_page = ws.context.path.page;
var wikispaces_id = ws.context.path.id;
var wikispaces_domain = ws.context.instance.url;
var wikispaces_isUserOrganizer = false;
var wikispaces_main_domain = ws.context.settings.asset_url_prefix;
var wikispaces_asset_url_prefix = ws.context.settings.asset_url_prefix;
var wikispaces_beta_features = ws.context.settings.beta_features;
var wikispaces_isMobileSite = ws.context.settings.isMobileSite;
var wikispaces_isUploadCapable = ws.context.settings.isUploadCapable;
var wikispaces_can_discuss = ws.context.settings.can_discuss;
var wikispaces_has_gdocs = ws.context.settings.has_gdocs;

</script>  <title>Mesquite - Scripts &amp; Macros</title>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="144x144" href="http://www.wikispaces.com/_/z6371z4x/i/logo-144.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="http://www.wikispaces.com/_/j5j77xz3/i/logo-114.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="http://www.wikispaces.com/_/vq8j5432/i/logo-72.png" />
  <link rel="apple-touch-icon" href="http://www.wikispaces.com/_/38515190/i/logo-57.png" />
  <link rel="shortcut icon" href="http://www.wikispaces.com/_/55v9k02z/i/logo-16.png" />
  <style type="text/css">
    #foot { margin-top: 5px; padding: 5px 0; font-family: arial,helvetica,sans-serif; font-size: 90%; line-height: 150%; clear: both; }
    h1.pageTitle { font-family: arial,helvetica,sans-serif; }
  </style>
<link rel="stylesheet" href="http://www.wikispaces.com/stylesheet/viewi/217420326D.gz.css" type="text/css" />
<link rel="stylesheet" href="http://www.wikispaces.com/s/gz/9jvvjv40-internal-bootstrap.css" type="text/css" />
<link rel="stylesheet" href="http://www.wikispaces.com/s/gz/vz033906-internal.css" type="text/css" />
<style type="text/css">
          .WikiControls { display: none; }
          </style><script src="http://www.wikispaces.com/s/gz/52vxz59q-top.min.js" type="text/javascript"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];

  var wsGoogleAccount = 'UA-80504-1';
  _gaq.push(['_setAccount', wsGoogleAccount]);
  _gaq.push(['_gat._anonymizeIp']);
  _gaq.push(['_setDomainName', 'wikispaces.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_setCustomVar', 2, 'Authenticated', 'Guest', 2]);
  _gaq.push(['_trackPageview']);
</script></head>
<body data-enhance="false">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
  <td valign="top">
    <div style="padding: 10px;">
<h1 class="pageTitle">Scripts & Macros</h1>
<div class="contentBox"><div class="innerContentBox" id="WikiContent">

<script type="text/template" id="comment-footer-template">

<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</script>

<script type="text/template" id="comment-content-template">
<div class="ws-box commentView">
  <div class="comment-close">
    <button type="button" class="closeme close" aria-hidden="true"><i class="fa fa-times"></i></button>
  </div>
  <div class="commentHeader">
    <p class="ws-stream-meta command-context">
      <a class="userLink userLinkPicture" href="<%= userCreated.url %>"><img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16"></a>
      <a href="<%= userCreated.url %>"><%= userCreated.username %></a>
      <% if (smartDate == '__live__') { %>
      <abbr class="timeago" title="<%= (new Date(parseInt(dateCreated, 10) * 1000)).toISOString() %>">
        <%= dateCreated %>
      </abbr>
      <% } else { %>
        <%- smartDate %>
      <% } %>
      <% if (ws.context.user.canAdministerWiki && ws.comments.Manager.readOnly) { %>
        <i class="fa fa-trash-o contextual-command delete ws-tip" title="Delete Comment"></i>
      <% } %>
    </p>
  </div>

  <div class="commentBody">
    <div class="commentContent">
      <%= description %>
    </div>

      <% for(i = 0; i < replyPages.length; i++) { %>
        <% for(var j = 0; j < replyPages[i].digests.length; j++) { %>
      <div class="commentReply" data-id="<%= replyPages[i].digests[j].id %>">
        <p class="ws-stream-meta command-context">
          <a class="userLink userLinkPicture" href="<%= replyPages[i].digests[j].userCreated.url %>"><img class="userPicture" src="<%= replyPages[i].digests[j].userCreated.imageUrl %>" width="16" height="16"></a>
          <a href="<%= replyPages[i].digests[j].userCreated.url %>"><%= replyPages[i].digests[j].userCreated.username %></a>
          <% if (smartDate == '__live__') { %>
          <abbr class="timeago" title="<%= (new Date(parseInt(replyPages[i].digests[j].dateCreated, 10) * 1000)).toISOString() %>">
            <%= new Date(parseInt(replyPages[i].digests[j].dateCreated, 10) * 1000).toLocaleString() %>
          </abbr>
          <% } else { %>
            <%- smartDate %>
          <% } %>
          <% if (ws.context.user.canAdministerWiki) { %>
          <i class="fa fa-trash-o contextual-command delete-reply ws-tip" title="Delete Reply"></i>
          <% } %>
          </p>
        <div class="commentContent"><%= replyPages[i].digests[j].body %></div>
      </div>
        <% } %>
      <% } %>

      <form class="reply commentReply">
        <div class="form-group">
          <textarea name="reply" placeholder="Reply" class="form-control" /></textarea>
        </div>
        <div class="btn-toolbar">
          <button type="submit" class="btn btn-primary btn-sm" name="go" value="1">Post</button>

          <% if (ws.context.user.id) { %>
            <% if (monitored) { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-monitor ws-tip active" title="You are monitoring replies."><i class="fa fa-eye"></i></button>
            <% } else { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-monitor ws-tip" title="You are not monitoring replies."><i class="fa fa-eye"></i></button>
            <% } %>
          <% } %>
          <% if (ws.context.user.canAdministerWiki) { %>
            <% if (locked) { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-lock ws-tip active" title="Replies are not allowed."><i class="fa fa-lock"></i></button>
            <% } else { %>
            <button type="button" class="btn btn-default btn-sm pull-right toggle-lock ws-tip" title="Replies are allowed."><i class="fa fa-lock"></i></button>
            <% } %>
          <% } %>

          <i class="fa fa-spinner fa-spin spinner pull-right hidden"></i>
        </div>
      </form>
   </div>

   
<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</div>
</script>

<script type="text/template" id="comment-composer-template">
<div class="ws-box commentView">
  <div class="commentComposer">
    <div class="comment-close">
      &nbsp;<button type="button" class="close closeme" aria-hidden="true"><i class="fa fa-times"></i></button>
    </div>
    <div class="commentHeader">
      <p class="ws-stream-meta command-context">
        <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">
        <a href="#" onclick="return false;"><%= userCreated.username %></a>
      </p>
    </div>
    <div class="commentBody">
      <textarea name="comment" class="compose form-control" placeholder="Comment"/></textarea><br/>
      <div class="btn-toolbar">
        <button type="button" class="btn btn-default btn-sm monitored active pull-right" style="margin-left: 6px" onclick="jQuery(this).toggleClass('active')"><i class="fa fa-eye"></i></button>
        <button type="button" class="btn btn-default btn-sm locked btn-toggle pull-right" onclick="jQuery(this).toggleClass('active')"><i class="fa fa-lock"></i></button>
        <button type="button" class="btn btn-primary btn-sm closeme">Save</button>
      </div>
    </div>
  </div>

  
<div class="commentFooter modal-footer">
  <div class="pull-left">
    <button type="button" class="btn btn-default btn-sm previous"><i class="fa fa-arrow-left"></i></button>
    <button type="button" class="btn btn-default btn-sm next"><i class="fa fa-arrow-right"></i></button>
  </div>
  <% if (ws.context.user.canAdministerWiki && !ws.comments.Manager.readOnly) { %>
  <div class="pull-right">
    <button type="button" class="btn btn-default btn-sm remove">Remove</button>
  </div>
  <% } %>
</div>

</div>
</script>

<script type="text/template" id="comment-proxy-template">
<div class="comment-proxy">
  <span class="commentUser">
  <% if (userCreated) { %>
    <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">
  <% } else { %>
    <img class="userPicture" src="<%= ws.context.user.imageUrlPrefix %>sm.jpg" width="16" height="16">
  <% } %>
  </span>
  <span class="commentReplies"><%= 1 + _(replyPages).reduce(function(memo, page){ return memo + page.digests.length; }, 0) %></span>
</div>
</script>







<div class="commentContainer">
  <div class="commentSubject">
  <div class="wiki wikiPage" id="content_view">
  <!-- ws:start:WikiTextHeadingRule:5:&lt;h1&gt; --><h1 id="toc0"><a name="Scripting and Macros"></a><!-- ws:end:WikiTextHeadingRule:5 -->Scripting and Macros</h1>
 Mesquite's scripting system allows modules and other objects to be scripted using text commands. Mesquite uses scripting by text commands as follows:<br />
<br />
<ul><li>When a menu item, button, or tool is used, Mesquite sends a text command to the appropriate object, informing it of the use. This means that most user interface commands can also be executed in scripts and macros.</li><li>When Mesquite re-reads a NEXUS file, it attempts to return windows and analyses to approximately the same condition as when the file had been saved. It does this by reading scripting instructions in a MESQUITE block that Mesquite had written into the file when saved. Thus, Mesquite writes scripts called &quot;Snapshots&quot; to later instruct itself.</li><li>Macros are script files which, if placed in the recognized directories, appear in submenus as selectable menu items. When selected, the macro is executed. Mesquite recognizes directories called &quot;macros&quot; within the Mesquite_Folder directory and the &quot;Mesquite_Prefs&quot; subdirectory of the Mesquite_Support_Files directory.</li><li>Not all scripts in MESQUITE blocks need to be written by Mesquite. Users can write MESQUITE block scripts by hand.</li><li>Users can send a script to a window using Window&gt;Scripting&gt;Send Script. This page gives some <a class="wiki_link" href="Scripts%20%26%20Macros.html#examples">simple examples</a> for the tree window.</li></ul><br />
The text commands are sent to modules or other objects. The particular text commands to which a module or other object responds will depend on the object. When Mesquite shows a web page for the first time, it attempts to compile automatically documentation for scripting commands that is available. This includes commands predefined by the scripting language, and commands belonging to particular modules. This compiled documentation is available from the web page linked from the &quot;Scripting Commands&quot; menu item in the Help menu when Mesquite is running.<br />
Mesquite's scripting language is not as human-friendly as it might be at present, especially in its handling of variables and aspects such as the lack of &quot;else&quot; statements. Since the vast majority of Mesquite scripts won't be written by humans but by Mesquite itself, that is not such a liability as it might seem. We hope to reform the scripting language in the future.<br />
<br />
<!-- ws:start:WikiTextHeadingRule:7:&lt;h2&gt; --><h2 id="toc1"><a name="Scripting and Macros-Macros"></a><!-- ws:end:WikiTextHeadingRule:7 --><!-- ws:start:WikiTextAnchorRule:37:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@macros&quot; title=&quot;Anchor: macros&quot;/&gt; --><a name="macros"></a><!-- ws:end:WikiTextAnchorRule:37 -->Macros</h2>
 Scripts performing some special function can be written and distributed by programmers to end users as &quot;Macros&quot;. For some calculations or display functions, the number of different analyses a user might like to do are too many to be easily supported by a graphical user interface. For instance, the user might like to print the ancestral state reconstruction of a character using a series of different stepmatrices. One can invent many such scenarios in which something repetitious is needed, and a module would be hard-pressed to maintain each as an option. Thus, small scripts using Mesquite's scripting language can be written and placed in the &quot;macros&quot; folder. These macros will appear as options in an appropriate place, depending upon where they are applicable. When the user selects the menu item, the script is executed.<br />
Macros can also be automatically composed by Mesquite. As noted above, Mesquite composes a script to place in NEXUS files that it saves. This script applies only to the particular saved file. In some contexts, you can ask Mesquite to save a script as a macro file. This is currently available in only a few contexts. Save Window as Macro in the Analysis menu and Window menu save macros that attempt to reproduce the condition (including analyses) of the foremost window. This is useful to reproduce a complex chart with a different data file, for example. Save Macro For Tree Drawing in the Display menu of a Tree Window creates a macro by which you can later reproduce the current appearance of the tree drawing (background color, font, tree form, orientation, and so on). Save Tree Analysis As Macro in the Tree menu of a Tree window creates a macro by which to reproduce a particular analysis with the tree. Macros so created are stored in Mesquite_Support_Files/Mesquite_Prefs/macros, and could be (for instance) shared by users.<br />
<br />
<!-- ws:start:WikiTextHeadingRule:9:&lt;h2&gt; --><h2 id="toc2"><a name="Scripting and Macros-Learning about scripting"></a><!-- ws:end:WikiTextHeadingRule:9 --><!-- ws:start:WikiTextAnchorRule:38:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@learning&quot; title=&quot;Anchor: learning&quot;/&gt; --><a name="learning"></a><!-- ws:end:WikiTextAnchorRule:38 -->Learning about scripting</h2>
 Users can learn about the scripting language from this web page, but also by inspection of existing scripts. Some sources of scripts to examine are:<br />
<ul><li>The MESQUITE block within NEXUS files saved by Mesquite. If you want to know how to script a tree window to trace a character, for instance, open a tree window, turn on character tracing, and save the file. You can look at the file with a text editing program to see how such a script would be written</li><li>If there are any macros installed, you can examine the files that specify them. These files are simple text files with scripts. Macros would be found in folders called &quot;macros&quot; within the Mesquite_Folder directory, and in the macros folder of the &quot;Mesquite_Prefs&quot; directory of the Mesquite_Support_Files directory.</li><li>The menu item Window&gt;Scripting&gt;Show Snapshot shows a snapshot for the window — the script that would be needed to set the window to its current state.</li></ul>Another way to learn about the language and particular scripting commands is to look at the web pages linked from the &quot;Scripting Commands&quot; menu item in the Help menu when Mesquite is running. In particular, examine the page on universal commands, which shows basic commands available regardless of the object being scripted, including the basic flow control and variable-defining commands of the system. (We cannot provide a link here to this web page because this web page is created by Mesquite when it runs, and is placed in a location that depends on your particular computer. After running Mesquite once, you may want to find some of these files and save a bookmark/alias/shortcut to them — the file on basic scripting commands is named 'puppeteer.html').<br />
<!-- ws:start:WikiTextHeadingRule:11:&lt;h2&gt; --><h2 id="toc3"><a name="Scripting and Macros-Commands within scripts"></a><!-- ws:end:WikiTextHeadingRule:11 --><!-- ws:start:WikiTextAnchorRule:39:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@commands&quot; title=&quot;Anchor: commands&quot;/&gt; --><a name="commands"></a><!-- ws:end:WikiTextAnchorRule:39 -->Commands within scripts</h2>
 In general, a command found within a script takes the following form:<br />
<!-- ws:start:WikiTextCodeRule:0:
&lt;pre class=&quot;text&quot;&gt;commandName  argument1 argument2 ...;&lt;/pre&gt;
 -->
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text">commandName  argument1 argument2 ...;</pre>

<!-- ws:end:WikiTextCodeRule:0 -->The commandName is a single word (token); the arguments can be multiple tokens, so long as the module knows how to interpret them. Typically each argument is a single token (though this may be string of multiple tokens converted to a single token by quotation).<br />
<!-- ws:start:WikiTextHeadingRule:13:&lt;h2&gt; --><h2 id="toc4"><a name="Scripting and Macros-Scripts"></a><!-- ws:end:WikiTextHeadingRule:13 --><!-- ws:start:WikiTextAnchorRule:40:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@scripts&quot; title=&quot;Anchor: scripts&quot;/&gt; --><a name="scripts"></a><!-- ws:end:WikiTextAnchorRule:40 -->Scripts</h2>
 A script consists of a series of commands. At each stage in the script, there is an implicit recipient of the command given (for instance, a module or a window). For instance, here is a script within the MESQUITE block of a NEXUS file. To the right of the commands are comments to explain them.<br />
<br />
<!-- ws:start:WikiTextCodeRule:1:
&lt;pre class=&quot;text&quot;&gt;Begin MESQUITE;&lt;br/&gt;  getNumberOfDataSets;      [file coordinator queried for number of data sets]&lt;br/&gt;  Integer.dataSets *it;     [storing number of data sets in integer variable 'dataSets']&lt;br/&gt;  getEmployee 'Data Window Coordinator'; [querying for reference to Data Window Coordinator module]&lt;br/&gt;  tell It;                  [commands to follow will be sent to the Data Window Coordinator]&lt;br/&gt;    Integer.dataNum 0;      [Define integer variable 'dataNum' and assign it 0]&lt;br/&gt;    for *Integer.dataSets;  [for loop; cycle as many times as there are data sets]&lt;br/&gt;      showDataWindow *Integer.dataNum;  [commands to make a data window for dataset]&lt;br/&gt;      tell It;              [commands to follow will be sent to module that makes data window]&lt;br/&gt;        showWindow;         [tells the module to make the data window visible]&lt;br/&gt;      endTell;              [finished sending commands to the module that makes the data window]&lt;br/&gt;      increment.dataNum;    [add 1 to the variable 'dataNum']&lt;br/&gt;    endFor;                 [end of the for loop]&lt;br/&gt;  endTell;                  [finished sending commands to the Data Window Coordinator]&lt;br/&gt;  getNumberOfTaxas;         [file coordinator queried for number of sets of taxa]&lt;br/&gt;  Integer.taxaSets *it;     [storing number of sets of taxa in integer variable 'taxaSets']&lt;br/&gt;  getEmployee 'Tree Window Coordinator';  [querying for reference to Tree Window Coordinator module]&lt;br/&gt;  tell It;                  [commands to follow will be sent to the Tree Window Coordinator]&lt;br/&gt;    Integer.taxaNum 0;      [Define integer variable 'taxaNum' and assign it 0]&lt;br/&gt;    for *Integer.taxaSets;  [for loop; cycle as many times as there are sets of taxa]&lt;br/&gt;      makeTreeWindow *Integer.taxaNum;  [commands to make a tree window for set of taxa]&lt;br/&gt;      tell It;              [commands to follow will be sent to module that makes tree window]&lt;br/&gt;        getTreeWindow;      [queries the module to return a reference to the tree window itself]&lt;br/&gt;        tell It;            [commands to follow will be sent to the tree window]&lt;br/&gt;          newAssistant 'Trace Character History';  [the tree window is asked to hire a module]&lt;br/&gt;        endTell;            [finished sending commands to the tree window]&lt;br/&gt;        showWindow;         [tells the module to make the tree window visible]&lt;br/&gt;      endTell;              [finished sending commands to the module that makes the tree window]&lt;br/&gt;      increment.taxaNum;    [add 1 to the variable 'taxaNum']&lt;br/&gt;    endFor;                 [end of the for loop]&lt;br/&gt;  endTell;                  [finished sending commands to the Tree Window Coordinator]&lt;br/&gt;END;&lt;/pre&gt;
 -->
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text">Begin MESQUITE;
  getNumberOfDataSets;      [file coordinator queried for number of data sets]
  Integer.dataSets *it;     [storing number of data sets in integer variable 'dataSets']
  getEmployee 'Data Window Coordinator'; [querying for reference to Data Window Coordinator module]
  tell It;                  [commands to follow will be sent to the Data Window Coordinator]
    Integer.dataNum 0;      [Define integer variable 'dataNum' and assign it 0]
    for *Integer.dataSets;  [for loop; cycle as many times as there are data sets]
      showDataWindow *Integer.dataNum;  [commands to make a data window for dataset]
      tell It;              [commands to follow will be sent to module that makes data window]
        showWindow;         [tells the module to make the data window visible]
      endTell;              [finished sending commands to the module that makes the data window]
      increment.dataNum;    [add 1 to the variable 'dataNum']
    endFor;                 [end of the for loop]
  endTell;                  [finished sending commands to the Data Window Coordinator]
  getNumberOfTaxas;         [file coordinator queried for number of sets of taxa]
  Integer.taxaSets *it;     [storing number of sets of taxa in integer variable 'taxaSets']
  getEmployee 'Tree Window Coordinator';  [querying for reference to Tree Window Coordinator module]
  tell It;                  [commands to follow will be sent to the Tree Window Coordinator]
    Integer.taxaNum 0;      [Define integer variable 'taxaNum' and assign it 0]
    for *Integer.taxaSets;  [for loop; cycle as many times as there are sets of taxa]
      makeTreeWindow *Integer.taxaNum;  [commands to make a tree window for set of taxa]
      tell It;              [commands to follow will be sent to module that makes tree window]
        getTreeWindow;      [queries the module to return a reference to the tree window itself]
        tell It;            [commands to follow will be sent to the tree window]
          newAssistant 'Trace Character History';  [the tree window is asked to hire a module]
        endTell;            [finished sending commands to the tree window]
        showWindow;         [tells the module to make the tree window visible]
      endTell;              [finished sending commands to the module that makes the tree window]
      increment.taxaNum;    [add 1 to the variable 'taxaNum']
    endFor;                 [end of the for loop]
  endTell;                  [finished sending commands to the Tree Window Coordinator]
END;</pre>

<!-- ws:end:WikiTextCodeRule:1 --><br />
This MESQUITE block causes Mesquite to show a data window for each of the data sets, and a tree window for each of the Taxa blocks; the tree windows are shown with a character traced.<br />
This script illustrates some of the features of Mesquite's scripting language:<br />
<ul><li>There is a current object to which commands are sent. Which object is being commanded can be changed by a &quot;tell&quot; command. Initially, the implicit recipient of the commands is the FileCoordinator of the file in question.</li><li>Any given command may return an object that is stored within the variable referred to by &quot;It&quot;. Thus, in the above script, the makeTreeWindow returns the module hired to supervise the tree window. The immediately following command, &quot;tell It&quot; thus shifts the recipient of commands to this tree window module.</li><li>The scripting language has variables. They are defined or their values set by commands beginning, for instance, Integer.myIntegerName or Object.myObjectName. Their values can be utilized by prefixing their names by an asterisk, for instance *Integer.myIntegerName.</li><li>The scripting language has control flow, including if, for loops, and while loops.</li></ul>Some of the lines of this script are commands unique to particular commandable objects (getNumberDataSets, getEmployee, showDataWindow, etc.); others are predefined by the scripting language (e.g., Integer, tell, for). More details on particular commands can be found in the web pages linked from the &quot;Scripting Commands&quot; menu item in the Help menu when Mesquite is running. Some details are found below.<br />
<!-- ws:start:WikiTextHeadingRule:15:&lt;h2&gt; --><h2 id="toc5"><a name="Scripting and Macros-Variables: Integers, Strings and Objects"></a><!-- ws:end:WikiTextHeadingRule:15 --><!-- ws:start:WikiTextAnchorRule:41:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@vars&quot; title=&quot;Anchor: vars&quot;/&gt; --><a name="vars"></a><!-- ws:end:WikiTextAnchorRule:41 -->Variables: Integers, Strings and Objects</h2>
 Three sorts of variables are supported. Reference to each requires the type of variable with name appended, as in &quot;Integer.numberOfCharacters&quot; or &quot;Object.treeDrawCoordinator&quot;. The generic variable &quot;it&quot; refers to the object last returned by a command.<br />
When the variable is passed as an argument for a command, it should be preceeded by anasterisk. This allows the system to know that a variable, and not a constant string, is being passeed.<br />
<!-- ws:start:WikiTextHeadingRule:17:&lt;h3&gt; --><h3 id="toc6"><a name="Scripting and Macros-Variables: Integers, Strings and Objects-Numerical variables"></a><!-- ws:end:WikiTextHeadingRule:17 --><!-- ws:start:WikiTextAnchorRule:42:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@nums&quot; title=&quot;Anchor: nums&quot;/&gt; --><a name="nums"></a><!-- ws:end:WikiTextAnchorRule:42 -->Numerical variables</h3>
 Two sorts of numerical variables are supported: Integer and Number. The former contain whole numbers. The latter can contain whole or decimal numbers. Reference to each requires the type of variable with name appended, as in &quot;Integer.numberOfCharacters&quot; or &quot;Object.treeDrawCoordinator&quot;. The generic variable &quot;it&quot; refers to the object last returned by a command.<br />
When the variable is passed as an argument for a command, it should be preceeded by an asterisk. This allows the system to know that a variable, and not a constant string, is being passeed. The commands concerning variables are:<br />
<ul><li>Integer.[name] [number];— this declares an integer variable of name &quot;name&quot; and assigns it the value given by the number. If the variable already exists, its value is replaced by the number. The number may be represented by a constant, as in &quot;Integer.counter 5&quot;, by an integer variable, as in &quot;Integer.counter *Integer.previousCount&quot;, or by a String variable that contains a string that can be parsed into an integer, as in &quot;Integer.counter *String.countString&quot;. If the number is indicated as &quot;random&quot;, a random integer will be placed in the variable.</li><li>increment.[name of integer]; — this adds one to the integer's value</li><li>decrement.[name of integer]; —this subtracts one from the integer's value.</li><li>Number.[name] [number];— this declares a numerical variable of name &quot;name&quot; and assigns it the value given by the number. If the variable already exists, its value is replaced by the number. The number may be represented by a constant, as in &quot;Number.rate 0.5&quot;, by an integer variable, as in &quot;Number.rate *Number.previousRate&quot;, or by a String variable that contains a string that can be parsed into a number, as in &quot;Number.rate *String.rateString&quot;. If the number is indicated as &quot;random&quot;, a random number between 0 and 1 will be placed in the variable. If the number to be placed into the Number variable is preceeded by a '+', the number doesn't replace the existing value of the Number variable, but is added to it (similarly for '-').</li></ul><!-- ws:start:WikiTextHeadingRule:19:&lt;h3&gt; --><h3 id="toc7"><a name="Scripting and Macros-Variables: Integers, Strings and Objects-String variables"></a><!-- ws:end:WikiTextHeadingRule:19 --><!-- ws:start:WikiTextAnchorRule:43:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@strings&quot; title=&quot;Anchor: strings&quot;/&gt; --><a name="strings"></a><!-- ws:end:WikiTextAnchorRule:43 -->String variables</h3>
 One sort of variable contains a string of text. The command to define and assign values to a string variable is:<br />
<ul><li>String.[name] [string]; — this declares a String variable of name &quot;name&quot; and assigns it the value given by the string. If the variable already exists, its value is replaced by the string, unless the string passed to it is preceded by &quot;+&quot; in which case it is appended to the existing string. The string passed may be represented by a literal string, as in &quot;String.name John A. MacDonald&quot;, by an String variable, as in &quot;String.name *String.name.firstPM&quot;, or by an Object variable, in which case the name of the Object will be used.</li></ul><!-- ws:start:WikiTextHeadingRule:21:&lt;h3&gt; --><h3 id="toc8"><a name="Scripting and Macros-Variables: Integers, Strings and Objects-Object variables"></a><!-- ws:end:WikiTextHeadingRule:21 --><!-- ws:start:WikiTextAnchorRule:44:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@objects&quot; title=&quot;Anchor: objects&quot;/&gt; --><a name="objects"></a><!-- ws:end:WikiTextAnchorRule:44 -->Object variables</h3>
 One sort of variable contains a objects (such as modules, or windows). The command to define and assign values to an object variable is:<br />
<ul><li>Object.[name] [reference to object]; — this declares an Object variable and assigns it the object indicated. If the variable already exists, its value is replaced. The reference may be &quot;it&quot;, as in &quot;Object.thisModule *It&quot;, or an Object variable, as in &quot;Object.thisModule *Object.storedModule&quot;.</li></ul><!-- ws:start:WikiTextHeadingRule:23:&lt;h3&gt; --><h3 id="toc9"><a name="Scripting and Macros-Variables: Integers, Strings and Objects-The variable &quot;It&quot;"></a><!-- ws:end:WikiTextHeadingRule:23 --><!-- ws:start:WikiTextAnchorRule:45:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@it&quot; title=&quot;Anchor: it&quot;/&gt; --><a name="it"></a><!-- ws:end:WikiTextAnchorRule:45 -->The variable &quot;It&quot;</h3>
 Standard Mesquite Commands to modules return an object. In the scripting language, this returned object is stored in the variable &quot;It&quot;. Thus, after a command &quot;getNumberDataSets&quot; to the FileCoordinator, the FileCoordinator returns an Integer variable containing the number of data sets. This can be stored in an Integer variable by following the command by &quot;Integer.numDataSets *it&quot;. Likewise, &quot;tell&quot; often makes use of &quot;it&quot;.<br />
<br />
<!-- ws:start:WikiTextHeadingRule:25:&lt;h2&gt; --><h2 id="toc10"><a name="Scripting and Macros-Flow and command control"></a><!-- ws:end:WikiTextHeadingRule:25 --><!-- ws:start:WikiTextAnchorRule:46:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@flowCommand&quot; title=&quot;Anchor: flowCommand&quot;/&gt; --><a name="flowCommand"></a><!-- ws:end:WikiTextAnchorRule:46 -->Flow and command control</h2>
 As noted above Mesquite's scripting language has flow control as well as control of the object to be commanded.<br />
<!-- ws:start:WikiTextHeadingRule:27:&lt;h3&gt; --><h3 id="toc11"><a name="Scripting and Macros-Flow and command control-Using &quot;tell&quot; to direct commands"></a><!-- ws:end:WikiTextHeadingRule:27 -->Using &quot;tell&quot; to direct commands</h3>
 Commands are directed toward commandable objects, including modules, windows, and others. Since different objects might use the same command names, the object to which a command is directed must be indicated. In the scripting language, at any point there is an implicit object being commanded. Subsequent commands are directed to a different object using the &quot;tell&quot; command, which must be balanced by &quot;endTell&quot;. At the root level, the FileCoordinator is being commanded.<br />
<!-- ws:start:WikiTextHeadingRule:29:&lt;h3&gt; --><h3 id="toc12"><a name="Scripting and Macros-Flow and command control-Flow control"></a><!-- ws:end:WikiTextHeadingRule:29 -->Flow control</h3>
 Flow control statements include &quot;if&quot;, &quot;for&quot;, and &quot;while&quot;. Others are available (such as ifnot,stop, exitTell). Details on these can be found via the web page shown by selecting Scripting Commands from the Help menu while Mesquite is running.<br />
<ul><li>if [integer or integer variable]; ... endIf; — the statements between if and endIf are executed if the integer variable is non-zero</li><li>for [integer or integer variable]; ... endFor; — the statements between for and endFor are executed as many times as the initial value of the integer variable.</li><li>while [integer or integer variable]; ... endWhile; — the statements between while and endWhile are executed repeatedly as long as the value of the integer variable is non-zero.</li></ul><br />
<!-- ws:start:WikiTextHeadingRule:31:&lt;h2&gt; --><h2 id="toc13"><a name="Scripting and Macros-Debugging"></a><!-- ws:end:WikiTextHeadingRule:31 --><!-- ws:start:WikiTextAnchorRule:47:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@debugging&quot; title=&quot;Anchor: debugging&quot;/&gt; --><a name="debugging"></a><!-- ws:end:WikiTextAnchorRule:47 -->Debugging</h2>
 There are a number of commands that are useful for debugging. For instance, if the Command &quot;debug&quot; is placed in the block, a debugging mode will be enabled which reports in the console more details about the commands as they are executed. More information about such commands can be found by selecting the &quot;Scripting Commands&quot; menu item under the Help menu when Mesquite is running.<br />
<!-- ws:start:WikiTextHeadingRule:33:&lt;h2&gt; --><h2 id="toc14"><a name="Scripting and Macros-Examples"></a><!-- ws:end:WikiTextHeadingRule:33 --><!-- ws:start:WikiTextAnchorRule:48:&lt;img src=&quot;/i/anchor.gif&quot; class=&quot;WikiAnchor&quot; alt=&quot;Anchor&quot; id=&quot;wikitext@@anchor@@examples&quot; title=&quot;Anchor: examples&quot;/&gt; --><a name="examples"></a><!-- ws:end:WikiTextAnchorRule:48 -->Examples</h2>
 Here are three simple example scripts that you can send to the Tree window usingWindow&gt;Scripting&gt;Send Script. Open a tree window, turn on Trace Character History, and then paste one of these scripts into the Send Script dialog box. The first script scrolls from tree to tree, for each recording in a file &quot;results.txt&quot; the reconstruction of ancestral states.<br />
<br />
<br />
<!-- ws:start:WikiTextCodeRule:2:
&lt;pre class=&quot;text&quot;&gt;String.resultsFile 'results.txt';&lt;br/&gt;saveMessageToFile *String.resultsFile 'RESULTS with different trees';&lt;br/&gt;appendReturnToFile *String.resultsFile;&lt;br/&gt;getWindow;&lt;br/&gt;tell It;&lt;br/&gt;    getNumTrees;&lt;br/&gt;    Integer.numReps *It;&lt;br/&gt;    ifNotCombinable *Integer.numReps;&lt;br/&gt;        Integer.numReps 10; [in case indefinite number of trees]&lt;br/&gt;    endIf;&lt;br/&gt;endTell;&lt;br/&gt;&lt;br/&gt;Integer.count 0;&lt;br/&gt;for *Integer.numReps;&lt;br/&gt;    increment.count;&lt;br/&gt;    getWindow;&lt;br/&gt;    tell It;&lt;br/&gt;        setTreeNumber *Integer.count;&lt;br/&gt;    endTell;&lt;br/&gt;    getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;&lt;br/&gt;    tell It;&lt;br/&gt;        getLastResult;&lt;br/&gt;        String.result *It;&lt;br/&gt;        appendMessageToFile *String.resultsFile *String.result;&lt;br/&gt;        appendReturnToFile *String.resultsFile;&lt;br/&gt;    endTell;&lt;br/&gt;endFor;&lt;/pre&gt;
 -->
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text">String.resultsFile 'results.txt';
saveMessageToFile *String.resultsFile 'RESULTS with different trees';
appendReturnToFile *String.resultsFile;
getWindow;
tell It;
    getNumTrees;
    Integer.numReps *It;
    ifNotCombinable *Integer.numReps;
        Integer.numReps 10; [in case indefinite number of trees]
    endIf;
endTell;
&nbsp;
Integer.count 0;
for *Integer.numReps;
    increment.count;
    getWindow;
    tell It;
        setTreeNumber *Integer.count;
    endTell;
    getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;
    tell It;
        getLastResult;
        String.result *It;
        appendMessageToFile *String.resultsFile *String.result;
        appendReturnToFile *String.resultsFile;
    endTell;
endFor;</pre>

<!-- ws:end:WikiTextCodeRule:2 --><br />
<br />
This second script scrolls from character to character, for each recording the ancestral states in a file &quot;results.txt&quot;:<br />
<br />
<br />
<!-- ws:start:WikiTextCodeRule:3:
&lt;pre class=&quot;text&quot;&gt;String.resultsFile 'results.txt';&lt;br/&gt;saveMessageToFile *String.resultsFile 'RESULTS with different characters';&lt;br/&gt;appendReturnToFile *String.resultsFile;&lt;br/&gt;getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;&lt;br/&gt;tell It;&lt;br/&gt;    getNumHistories;&lt;br/&gt;    Integer.numReps *It;&lt;br/&gt;    ifNotCombinable *Integer.numReps;&lt;br/&gt;        Integer.numReps 10; [in case indefinite number of characters]&lt;br/&gt;    endIf;&lt;br/&gt;endTell;&lt;br/&gt;&lt;br/&gt;Integer.count 0;&lt;br/&gt;for *Integer.numReps;&lt;br/&gt;    increment.count;&lt;br/&gt;    getEmployee #mesquite.ancstates.TraceCharacterHistory.TraceCharacterHistory;&lt;br/&gt;    tell It;&lt;br/&gt;        setCharacter *Integer.count;&lt;br/&gt;    endTell;&lt;br/&gt;    getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;&lt;br/&gt;    tell It;&lt;br/&gt;        getLastResult;&lt;br/&gt;        String.result *It;&lt;br/&gt;        appendMessageToFile *String.resultsFile *String.result;&lt;br/&gt;        appendReturnToFile *String.resultsFile;&lt;br/&gt;    endTell;&lt;br/&gt;endFor;&lt;/pre&gt;
 -->
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text">String.resultsFile 'results.txt';
saveMessageToFile *String.resultsFile 'RESULTS with different characters';
appendReturnToFile *String.resultsFile;
getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;
tell It;
    getNumHistories;
    Integer.numReps *It;
    ifNotCombinable *Integer.numReps;
        Integer.numReps 10; [in case indefinite number of characters]
    endIf;
endTell;
&nbsp;
Integer.count 0;
for *Integer.numReps;
    increment.count;
    getEmployee #mesquite.ancstates.TraceCharacterHistory.TraceCharacterHistory;
    tell It;
        setCharacter *Integer.count;
    endTell;
    getEmployee #mesquite.ancstates.RecAncestralStates.RecAncestralStates;
    tell It;
        getLastResult;
        String.result *It;
        appendMessageToFile *String.resultsFile *String.result;
        appendReturnToFile *String.resultsFile;
    endTell;
endFor;</pre>

<!-- ws:end:WikiTextCodeRule:3 --><br />
<br />
The third script scrolls from tree to tree, printing each one.<br />
<br />
<!-- ws:start:WikiTextCodeRule:4:
&lt;pre class=&quot;text&quot;&gt;getWindow;&lt;br/&gt;tell It;&lt;br/&gt;    getNumTrees;&lt;br/&gt;    Integer.numReps *It;&lt;br/&gt;    ifNotCombinable *Integer.numReps;&lt;br/&gt;        Integer.numReps 10; [in case indefinite number of trees]&lt;br/&gt;    endIf;&lt;br/&gt;endTell;&lt;br/&gt;for *Integer.numReps;&lt;br/&gt;    getWindow;&lt;br/&gt;    tell It;&lt;br/&gt;        setTreeNumber *Integer.count;&lt;br/&gt;        printToFit;&lt;br/&gt;    endTell;&lt;br/&gt;endFor;&lt;/pre&gt;
 -->
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text">getWindow;
tell It;
    getNumTrees;
    Integer.numReps *It;
    ifNotCombinable *Integer.numReps;
        Integer.numReps 10; [in case indefinite number of trees]
    endIf;
endTell;
for *Integer.numReps;
    getWindow;
    tell It;
        setTreeNumber *Integer.count;
        printToFit;
    endTell;
endFor;</pre>

<!-- ws:end:WikiTextCodeRule:4 --><br />
<!-- ws:start:WikiTextHeadingRule:35:&lt;h2&gt; --><h2 id="toc15"><a name="Scripting and Macros-Technical Details"></a><!-- ws:end:WikiTextHeadingRule:35 -->Technical Details</h2>
 (See the <a class="wiki_link_ext" href="http://mesquiteproject.org/mesquite/development/Mesquite_Development.html" rel="nofollow">developer's documentation</a>.) The Puppeteer is in charge of defining the basic language as it relates to variables and flow control. For an object to be scriptable, it must be of the Commandable interface. Commands internally in Mesquite are remembered in objects called MesquiteCommands.
  </div>


  </div>
  <div class="commentColumn WikispacesStream"><div class="WikispacesContent WikispacesBs3"><div class="commentList"></div></div></div>
</div>

  




<script type="text/template" id="js-event-template">
  <small>
    <%- startDateShortFormat %>
    <a href="<%- ws.common.pathFor('event', 'view', id) %>" class="WikispacesDialogLink">
      <%- ws.common.truncate(title, 15) %>
    </a>
  </small>
</script>

<script type="text/template" id="js-reply-template">
  <div class="tc-timeline-comment media">

    <a class="pull-left userLink" href="<%- userCreated.url %>">
      <img src="<%- userCreated.imageUrl %>" width="30" height="30" class="author-avatar" alt="" />
    </a>
    <div class="media-body" data-id="<%= id %>">
      <% if (ws.context.user.canAdministerWiki) { %>
        <i class="tc-delete-comment fa fa-trash-o contextual-command destroy-message ws-tip" title="Delete reply"></i>
      <% } %>
      <div class="tc-box-name-date">
        <span class="tc-commenter"><a href="<%- userCreated.url %>"><%- userCreated.username %></a></span>
        <% if (smartDate == '__live__') { %>
        <abbr style="border-bottom-style: none;" class="timeago tc-comment-date" title="<%- (new Date(parseInt(dateCreated) * 1000)).toISOString() %>">
          <%- (new Date(parseInt(dateCreated) * 1000)).toDateString() %>
        </abbr>
        <% } else { %>
          <abbr style="border-bottom-style: none;" class="tc-comment-date"><%- smartDate %></abbr>
        <% } %>
      </div>
      <% if (body) { %>
      <p>
        <%= body %>
      </p>
      <% } %>
    </div>
  </div>
</script>

<script type="text/template" id="js-share-template">
  <div class="tc-timeline-block tc-<%= ws.stream.typeToBlockType(sharedType) %>-block" <%= (ws.stream.hideTimeline ? 'style="padding-left: 0px;"' : '') %>>

    <% if (!ws.stream.hideTimeline) { %>
      <div class="tc-timeline-icon">
        <i class="fa fa-<%= ws.stream.typeToIcon(sharedType) %>"></i>
      </div>
      <div class="tc-timeline-triangle-man"></div>
    <% } %>

    <div class="tc-timeline-box" data-id="<%= id %>">
      <div class="media">
        <a class="pull-left userLink" href="<%- userCreated.url %>">
          <img src="<%- userCreated.imageUrl %>" width="48" height="48" class="author-avatar media-object" alt="" />
        </a>

        <div class="media-body">

          <div class="tc-stream-dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="fa fa-chevron-down"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
              <% if (ws.context.user.id) { %>
              <li>
                <a class="js-toggle-monitor" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-eye"></i>
                  <span><%= monitored ? 'Start Monitoring' : 'Stop Monitoring' %></span>
                </a>
              </li>
              <% } %>

              <% if (ws.context.user.canAdministerWiki) { %>
              <li>
                <a class="js-toggle-lock" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-lock"></i>
                  <span><%= locked ? 'Unlock Replies' : 'Lock Replies' %></span>
                </a>
              </li>
              <% if (sharedType == 'discussion' || sharedType == 'comment' || sharedType == 'event') { %>
              <li>
                <a class="js-destroy-share" tabindex="-1" href="#">
                  <i class="fa-fw fa fa-trash-o"></i>
                  Delete <%= ws.stream.typeToName(sharedType) %>
                </a>
              </li>
              <% } %>
              <% } %>
            </ul>
          </div>

          <div class="tc-timeline-box-header ws-reveal media-heading">
              <h3 class="tc-box-title">
              <% if (typeof adminLink !== 'undefined' && adminLink && ws.context.user.canAdministerWiki) { %>
                <a href="<%- adminLink %>"><%- title %></a>
              <% } else { %>
                <%- title %>
              <% } %>
              <% if (typeof startDate !== 'undefined' && startDate) { %> - <%= startDateShortFormat %> <%= ws.stream.getYearFromStartDate(startDate) %><% } %>
              </h3>
              <div class="tc-box-name-date">
                <% if (ws.context.instance.isTesClassroom) { %>
                  <%- userCreated.username %>
                <% } else { %>
                  <a class="author-name" href="<%- userCreated.url %>"><%- userCreated.username %></a>
                <% } %>
                <% if (typeof recipients !== 'undefined' && recipients) { %>
                  <i class="fa fa-angle-right"></i>
                  <% if (typeof recipientsLink !== 'undefined') { %>
                    <a href="<%- recipientsLink %>"><%- recipients %></a>
                  <% } else { %>
                    <span class="recipients"><%- recipients %></span>
                  <% } %>
                <% } %>
                <% if (smartDate == '__live__') { %>
                  <abbr style="border-bottom-style: none;" class="timeago tc-block-date" title="<%= (new Date(parseInt(dateCreated) * 1000)).toISOString() %>">
                    <%= (new Date(parseInt(dateCreated) * 1000)).toDateString() %>
                  </abbr>
                <% } else { %>
                  <abbr style="border-bottom-style: none;" class="tc-block-date"><%- smartDate %></abbr>
                <% } %>
              </div>
          </div>

          <div class="<%= sharedType == 'comment' && !orphaned && !ws.stream.noCollapse ? 'hidden ' : '' %>tc-block-content">
            <div class="clearfix">
              <% if (typeof rangeActions !== 'undefined') { %>
                <div class="tc-range-actions">
                  <% for(var i = 0; i < rangeActions.length; i++) { %>
                  <%= ws.stream.rangeActionTemplate(rangeActions[i]) %>
                  <% } %>
                </div>
              <% } %>
              <% if (description) { %>
                <p><%= description %></p>
              <% } %>
            </div>
          </div>

          <% if (replyPages.length > 0 && !(replyPages.length === 1 && replyPages[0].digests.length === 0)) { %>
            <div class="tc-timeline-comments">
            <% for (var i = 0; i < replyPages.length; i++) { %>
              <% if (i == 0 && replyPages[i].more) { %>
                <a href="#" class="tc-show-more" onclick="ws.stream.pageReplies(<%= id %>, <%= replyPages[i].page + 1 %>); return false">Show more replies (<%= replyPages[i].more %> hidden) </a>
              <% } else { %>
                <div></div>
              <% } %>
              <% for (var j = 0; j < replyPages[i].digests.length; j++) { %>
                <%= ws.stream.replyTemplate(replyPages[i].digests[j]) %>
              <% } %>
            <% } %>
            </div>
          <% } %>

          <% if ((ws.stream.userCanPostMessage && !locked) || ws.context.user.canAdministerWiki) { %>
          <div class="tc-add-comment media <%= ws.stream.noCollapse ? 'add-active' : ''%>">
            <img src="<%- ws.context.user.imageUrlPrefix %>lg.jpg" width="30" height="30" class="pull-left author-avatar" alt="" />
            <div class="media-body">
              <textarea name="reply" placeholder="Comment" class="form-control form-control-tc ws-reveal <%= !ws.stream.noCollapse ? 'ws-unrevealed' : ''%> reply" /></textarea>
              <button type="button" class="btn-tc btn-info-tc btn-sm-tc add-reply">Post</button>
            </div>
          </div>
          <% } %>
        </div>

      </div>
    </div>
  </div>
</script>

<script type="text/template" id="js-range-action-template">
  <div>
    <strong><%- name %></strong>
    <% if (typeof(diffUrl) !== 'undefined') { %>
      <a href="<%- diffUrl %>">
    <% } %>
    <%= new Date(dateCreated * 1000).toLocaleString() %>
    <% if (typeof(diffUrl) !== 'undefined') { %>
      </a>
    <% } %>
    <% if (typeof(rangeText) !== 'undefined') { %>
      <div>
        <span class="commentExtent">
        <% if (typeof(diffUrl) !== 'undefined') { %>
          <a href="<%- diffUrl %>">
        <% } %>
        <%= rangeText %>
        <% if (typeof(diffUrl) !== 'undefined') { %>
          </a>
        <% } %>
        </span>
      </div>
    <% } %>
  </div>
</script>

<script type="text/template" id="js-stream-end-template">
  <div class="tc-timeline-block tc-end-block">
    <div class="tc-timeline-icon" style="margin-top: -10px;" />
    <div class="tc-timeline-box" style="visibility: hidden;">
      <p class="tc-box-title"></p>
    </div>
  </div>
</script>

<a name="discussion"></a>
<div class="timeline WikispacesBs3 tc-timeline-embedded show-border">
  <div class="timeline-line"></div>
    <div id="js-share-list">
    <div class="spinner hidden"><i class="fa fa-spinner fa-spin"></i></div>
  </div>
</div></div></div><div id="sentinel" style="clear:both"></div>
    </div>
  </td>
</tr>
</table>

<div id="foot">
<div class="WikiLicense WikiElement">Contributions to http://mesquiteproject.wikispaces.com/ are licensed under a <a rel="license" href="http://www.creativecommons.org/licenses/by/3.0">Creative Commons Attribution 3.0 License</a>. <a rel="license" href="http://www.creativecommons.org/licenses/by/3.0"><img src="http://www.wikispaces.com/i/creativecommons/by_3.0_80x15.png" width="85" height="15" alt="Creative Commons Attribution 3.0 License"/></a><br />Portions not contributed by visitors are Copyright 2018 Tangient LLC<br /><a href="https://www.tes.com/us/?utm_source=wikispaces&amp;utm_medium=link&amp;utm_campaign=US-52-footer">TES: The largest network of teachers in the world</a></div></div>


<script type="text/template" id="dialog-template">
<div class="modal fade" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
        <h4 class="modal-title"><%= header %></h4>
      </div>
      <div class="modal-body">
        <%= body %>
      </div>
    </div>
  </div>
</div>
</script>


<div id="js-help-template" class="hidden">
  <div class="ws-help">
    <div class="js-help-controls WikispacesContent WikispacesBs3">
      <a href="http://www.wikispaces.com/site/gettingstarted/off" class="btn btn-default hidden js-getting-started-off pull-right">Turn off "Getting Started"</a>
      <ol class="breadcrumb">
        <li class="js-special-breadcrumb active">
          <a href="http://helpcenter.wikispaces.com/" data-breadcrumb="0">Home</a>
        </li>
        <li class="js-ellipsis hidden js-special-breadcrumb">
          ...
        </li>
        <li class="js-spinner hidden js-special-breadcrumb"><i class="fa fa-spinner fa-spin"></i></li>
      </ol>
    </div>
    <div class="ws-help-content wiki">Loading...</div>
  </div>
</div>
</div>
<script src="http://www.wikispaces.com/s/gz/j4257158-common.min.js" type="text/javascript"></script>
<script src="http://www.wikispaces.com/s/gz/85k7018k-stream.min.js" type="text/javascript"></script>
<script src="http://www.wikispaces.com/s/gz/91k8z207-contentbar.min.js" type="text/javascript"></script>
<script src="http://www.wikispaces.com/s/gz/395j1vq7-component.stream-vo.min.js" type="text/javascript"></script>
<script type="text/javascript">
<!--
ws.namespace('ws.attributes');
ws.namespace('ws.stream');
ws.attributes.DISCUSSION_COUNT = 0;
ws.attributes.pageId = 200868348;
ws.attributes.version = 520005558;
ws.attributes.showEditor = false;
ws.attributes.editUrl = "Scripts%2b%26%2bMacros06c1.html\/\/mesquiteproject.wikispaces.com\/page\/edit\/Scripts+%26+Macros?goto=http%3A%2F%2Fmesquiteproject.wikispaces.com%2FScripts%2B%2526%2BMacros";
ws.attributes.userCanEdit = false;
ws.stream.userCanPostMessage = false;
ws.stream.hideTimeline = true;
ws.stream.shareSource = "Scripts%2b%26%2bMacros06c1.html\/\/mesquiteproject.wikispaces.com\/page\/shares\/Scripts+%26+Macros";

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

jQuery(document).ready(function() {
  ws.common.addJsonNotices({"warning":[],"error":[],"info":[],"success":[]});
});

jQuery(document).ready(function() {
  ws.editor.canEdit = false;
  var editUrl = 'http://mesquiteproject.wikispaces.com/page/edit/Scripts+%26+Macros?goto=http%3A%2F%2Fmesquiteproject.wikispaces.com%2FScripts%2B%2526%2BMacros';

  jQuery('#js-edit-from-template').change(function() {
    window.location = ws.common.addUriParams(editUrl, [['template', jQuery(this).val()]]);
  });
});



--></script><!-- w24 88 tot:88:88(1) mem:2:10(18) wki:2:2(1) -->

</body>

<!-- Mirrored from mesquiteproject.wikispaces.com/Scripts+%26+Macros?f=print by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 May 2018 13:27:48 GMT -->
</html>